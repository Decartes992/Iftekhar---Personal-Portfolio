---
/**
 * Main portfolio landing page (Corrected & Enhanced)
 *
 * @module IndexPage
 * @description The home page that composes various components to create the portfolio landing experience.
 * This version is fully corrected to prevent SSR errors and includes visual enhancements.
 */
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import About from '../components/About.astro';
import ProjectsSection from '../components/ProjectsSection.astro';
import ContactForm from '../components/ContactForm.jsx';
import AnimatedStatsCounter from '../components/AnimatedStatsCounter.jsx';

// Data for Hero section
const heroData = {
  headline: "Iftekhar Rafi: Building Digital Experiences",
  subheadline: "Passionate developer specializing in modern web technologies and user-centric design.",
};

// Data for AnimatedStatsCounter
const stats = [
  { label: "Projects Completed", value: 30, icon: { path: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" } },
  { label: "Happy Clients", value: 25, icon: { path: "M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" } },
  { label: "Years Experience", value: 5, icon: { path: "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" } },
  { label: "Technologies", value: 15, icon: { path: "M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" } }
];
---

<BaseLayout title="Iftekhar Rafi - Portfolio" description="Personal portfolio showcasing projects and skills.">
  
  <!-- Hero Section -->
  <Hero {...heroData} />

  <!-- Stats Counter Section -->
  <section class="py-16 bg-background-alt">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-12 text-text" data-aos="fade-up">At a Glance</h2>
      {/* FIX: Changed to client:only="react" to prevent SSR crash.
        This tells Astro to skip rendering this component on the server and render it only in the browser.
        Also removed outdated bgColor and textColor props.
      */}
      <AnimatedStatsCounter 
        client:only="react" 
        stats={stats}
        duration={2000}
        bgColor="bg-background"
        textColor="text-primary"
      />
    </div>
  </section>

  <!-- About Section -->
  <About />

  <!-- Projects Section -->
  <section id="projects" class="relative py-20 bg-background overflow-hidden">
    <!-- Decorative background element -->
    <div class="absolute top-0 left-0 -translate-x-1/2 w-[1000px] h-[1000px] bg-primary/5 dark:bg-primary/10 rounded-full filter blur-3xl -z-10"></div>
    <div class="container mx-auto px-4 relative z-10">
       <h2 class="text-3xl font-bold text-center mb-12 text-text" data-aos="fade-up">Featured Projects</h2>
       <ProjectsSection />
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-20 bg-background-alt">
    <div class="container mx-auto px-4">
      <div class="text-center" data-aos="fade-up">
        <h2 class="text-3xl font-bold text-text">Get In Touch</h2>
        <p class="mt-4 max-w-2xl mx-auto text-lg text-text-muted">
          Have a question or a project in mind? I'd love to hear from you.
        </p>
      </div>
      <div class="max-w-2xl mx-auto mt-12 bg-background p-8 rounded-xl shadow-lg border border-border" data-aos="fade-up" data-aos-delay="100">
        {/* FIX: Changed to client:only="react" for SSR safety */}
        <ContactForm client:only="react" />
      </div>
    </div>
  </section>

</BaseLayout>
