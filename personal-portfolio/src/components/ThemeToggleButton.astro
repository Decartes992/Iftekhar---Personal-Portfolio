---
// src/components/ThemeToggleButton.astro
// Inlined SVGs for simplicity, or use <Icon> component
const sunIcon = `<svg class="sun-icon" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm0-2a4 4 0 1 1 0-8 4 4 0 0 1 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 7.05 5.636 8.464zm12-.001l1.414-1.414L20.95 7.05l-1.414 1.414zm-2.828 14.286l1.414 1.414L20.95 16.95l-1.414-1.414zm-10.607-.001l1.414 1.414L7.05 16.95l-1.414 1.414zM0 11h3v2H0v-2zm21 0h3v2h-3v-2z"/></svg>`;
const moonIcon = `<svg class="moon-icon" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12.75 22.78a.75.75 0 0 1-.75-.75V2.97a.75.75 0 0 1 1.5 0v19.06a.75.75 0 0 1-.75.75zM12 22.5c-5.523 0-10-4.477-10-10S6.477 2.5 12 2.5c.75 0 1.5.07 2.22.2a.75.75 0 0 1 .58.91.76.76 0 0 1-.91.58A8.5 8.5 0 0 0 12 4c-4.694 0-8.5 3.806-8.5 8.5S7.306 21 12 21c.75 0 1.5-.07 2.22-.2a.75.75 0 0 1 .91.58.76.76 0 0 1-.58.91A13.02 13.02 0 0 1 12 22.5z"/></svg>`;
---
<button
  class="theme-toggle"
  id="theme-toggle"
  title="Toggle light/dark theme"
  aria-label="Change to dark theme"
  aria-live="polite"
  data-current-theme="light"
>
  <Fragment set:html={sunIcon} />
  <Fragment set:html={moonIcon} />
</button>

<style>
  .theme-toggle {
    background: none;
    border: none;
    padding: 0.5rem;
    cursor: pointer;
    color: var(--clr-text-current); /* Use current text color */
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative; /* For icon positioning/transition */
    overflow: hidden;
    width: 40px;
    height: 40px;
  }
  .theme-toggle:hover,
  .theme-toggle:focus-visible {
    background-color: rgba(128, 128, 128, 0.1); /* Subtle background */
  }
  .sun-icon,
  .moon-icon {
    position: absolute;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease;
  }
  /* Initial state: show sun, hide moon */
  .theme-toggle[data-current-theme="light"] .moon-icon {
    transform: translateY(100%);
    opacity: 0;
  }
  .theme-toggle[data-current-theme="dark"] .sun-icon {
    transform: translateY(-100%);
    opacity: 0;
  }
</style>