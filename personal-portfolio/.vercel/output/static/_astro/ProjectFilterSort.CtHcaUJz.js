import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BVOCwoKb.js";const v=({projects:a})=>{const[r,h]=c.useState(a),[i,m]=c.useState([]),[n,x]=c.useState([]),[o,g]=c.useState([]),[d,u]=c.useState("date-desc"),f=[...new Set(a.flatMap(e=>e.data.technologies||[]))],j=[...new Set(a.flatMap(e=>e.data.project_type||[]))],p=[...new Set(a.flatMap(e=>e.data.skills||[]))];c.useEffect(()=>{let e=[...a];i.length>0&&(e=e.filter(l=>i.every(t=>l.data.technologies?.includes(t)))),n.length>0&&(e=e.filter(l=>n.every(t=>l.data.project_type?.includes(t)))),o.length>0&&(e=e.filter(l=>o.every(t=>l.data.skills?.includes(t)))),e.sort((l,t)=>d==="alphabetical"?l.data.title.localeCompare(t.data.title):new Date(t.data.publishDate).getTime()-new Date(l.data.publishDate).getTime()),h(e)},[a,i,n,o,d]);const b=e=>{m(l=>l.includes(e)?l.filter(t=>t!==e):[...l,e])},N=e=>{x(l=>l.includes(e)?l.filter(t=>t!==e):[...l,e])},S=e=>{g(l=>l.includes(e)?l.filter(t=>t!==e):[...l,e])},y=e=>{u(e.target.value)};return s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Filter by:"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Technologies:"}),f.map(e=>s.jsxs("label",{className:"block",children:[s.jsx("input",{type:"checkbox",checked:i.includes(e),onChange:()=>b(e),className:"mr-2 focus:ring-2 focus:ring-blue-500"}),e]},e))]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Project Types:"}),j.map(e=>s.jsxs("label",{className:"block",children:[s.jsx("input",{type:"checkbox",checked:n.includes(e),onChange:()=>N(e),className:"mr-2 focus:ring-2 focus:ring-blue-500"}),e]},e))]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Skills:"}),p.map(e=>s.jsxs("label",{className:"block",children:[s.jsx("input",{type:"checkbox",checked:o.includes(e),onChange:()=>S(e),className:"mr-2 focus:ring-2 focus:ring-blue-500"}),e]},e))]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sort by:"}),s.jsxs("select",{value:d,onChange:y,className:"p-2 border rounded focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("option",{value:"date-desc",children:"Date (Newest First)"}),s.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(e=>s.jsxs("article",{className:"border p-4 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:e.data.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:e.data.description}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Technologies: ",e.data.technologies?.join(", ")]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Project Type: ",e.data.project_type?.join(", ")]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Skills: ",e.data.skills?.join(", ")]})]},e.slug))})]})};export{v as default};
