import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BVOCwoKb.js";const v=({projects:a})=>{const[r,h]=i.useState(a),[c,m]=i.useState([]),[n,g]=i.useState([]),[o,x]=i.useState([]),[d,u]=i.useState("date-desc"),b=[...new Set(a.flatMap(e=>e.data.technologies||[]))],f=[...new Set(a.flatMap(e=>e.data.project_type||[]))],j=[...new Set(a.flatMap(e=>e.data.skills||[]))];i.useEffect(()=>{let e=[...a];c.length>0&&(e=e.filter(l=>c.every(t=>l.data.technologies?.includes(t)))),n.length>0&&(e=e.filter(l=>n.every(t=>l.data.project_type?.includes(t)))),o.length>0&&(e=e.filter(l=>o.every(t=>l.data.skills?.includes(t)))),e.sort((l,t)=>d==="alphabetical"?l.data.title.localeCompare(t.data.title):new Date(t.data.publishDate).getTime()-new Date(l.data.publishDate).getTime()),h(e)},[a,c,n,o,d]);const p=e=>{m(l=>l.includes(e)?l.filter(t=>t!==e):[...l,e])},N=e=>{g(l=>l.includes(e)?l.filter(t=>t!==e):[...l,e])},y=e=>{x(l=>l.includes(e)?l.filter(t=>t!==e):[...l,e])},S=e=>{u(e.target.value)};return s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Filter by:"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("h4",{id:"technologies-label",className:"font-medium",children:"Technologies:"}),b.map(e=>s.jsxs("label",{className:"block",children:[s.jsx("input",{type:"checkbox",checked:c.includes(e),onChange:()=>p(e),"aria-labelledby":"technologies-label",className:"mr-2 focus:ring-2 focus:ring-blue-500"}),e]},e))]}),s.jsxs("div",{children:[s.jsx("h4",{id:"project-types-label",className:"font-medium",children:"Project Types:"}),f.map(e=>s.jsxs("label",{className:"block",children:[s.jsx("input",{type:"checkbox",checked:n.includes(e),onChange:()=>N(e),"aria-labelledby":"project-types-label",className:"mr-2 focus:ring-2 focus:ring-blue-500"}),e]},e))]}),s.jsxs("div",{children:[s.jsx("h4",{id:"skills-label",className:"font-medium",children:"Skills:"}),j.map(e=>s.jsxs("label",{className:"block",children:[s.jsx("input",{type:"checkbox",checked:o.includes(e),onChange:()=>y(e),"aria-labelledby":"skills-label",className:"mr-2 focus:ring-2 focus:ring-blue-500"}),e]},e))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sort-options",className:"text-lg font-semibold mb-2 block",children:"Sort by:"}),s.jsxs("select",{id:"sort-options",value:d,onChange:S,className:"p-2 border rounded focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("option",{value:"date-desc",children:"Date (Newest First)"}),s.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(e=>s.jsxs("article",{className:"border p-4 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:e.data.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:e.data.description}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Technologies: ",e.data.technologies?.join(", ")]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Project Type: ",e.data.project_type?.join(", ")]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Skills: ",e.data.skills?.join(", ")]})]},e.slug))})]})};export{v as default};
