import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BVOCwoKb.js";import C from"./ProjectCard3D.wXEvoyTb.js";const F=({projects:t})=>{const[m,b]=i.useState(t),[r,h]=i.useState([]),[c,g]=i.useState([]),[n,x]=i.useState([]),[d,u]=i.useState("date-desc"),y=[...new Set(t.flatMap(e=>e.data.technologies||e.data.tags||[]))],p=[...new Set(t.flatMap(e=>e.data.project_type||[]))],f=[...new Set(t.flatMap(e=>e.data.skills||[]))];i.useEffect(()=>{let e=[...t];r.length>0&&(e=e.filter(s=>{const l=s.data.technologies||s.data.tags||[];return r.every(o=>l.includes(o))})),c.length>0&&(e=e.filter(s=>c.every(l=>s.data.project_type?.includes(l)))),n.length>0&&(e=e.filter(s=>n.every(l=>s.data.skills?.includes(l)))),e.sort((s,l)=>{if(d==="alphabetical")return s.data.title.localeCompare(l.data.title);{const o=s.data.publishDate||s.data.date||s.data.pubDate||new Date,w=l.data.publishDate||l.data.date||l.data.pubDate||new Date;return new Date(w).getTime()-new Date(o).getTime()}}),b(e)},[t,r,c,n,d]);const N=e=>{h(s=>s.includes(e)?s.filter(l=>l!==e):[...s,e])},v=e=>{g(s=>s.includes(e)?s.filter(l=>l!==e):[...s,e])},S=e=>{x(s=>s.includes(e)?s.filter(l=>l!==e):[...s,e])},k=e=>{u(e.target.value)},j=()=>{h([]),g([]),x([]),u("date-desc")};return a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md mb-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Filter Projects"}),(r.length>0||c.length>0||n.length>0)&&a.jsx("button",{onClick:j,className:"text-primary hover:text-primary-dark text-sm mt-2 md:mt-0",children:"Clear all filters"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{id:"technologies-label",className:"font-medium mb-2",children:"Technologies:"}),a.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto pr-2",children:y.map(e=>a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.includes(e),onChange:()=>N(e),"aria-labelledby":"technologies-label",className:"mr-2 focus:ring-2 focus:ring-primary"}),a.jsx("span",{className:"text-sm",children:e})]},e))})]}),p.length>0&&a.jsxs("div",{children:[a.jsx("h4",{id:"project-types-label",className:"font-medium mb-2",children:"Project Types:"}),a.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto pr-2",children:p.map(e=>a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:c.includes(e),onChange:()=>v(e),"aria-labelledby":"project-types-label",className:"mr-2 focus:ring-2 focus:ring-primary"}),a.jsx("span",{className:"text-sm",children:e})]},e))})]}),f.length>0&&a.jsxs("div",{children:[a.jsx("h4",{id:"skills-label",className:"font-medium mb-2",children:"Skills:"}),a.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto pr-2",children:f.map(e=>a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:n.includes(e),onChange:()=>S(e),"aria-labelledby":"skills-label",className:"mr-2 focus:ring-2 focus:ring-primary"}),a.jsx("span",{className:"text-sm",children:e})]},e))})]})]})}),a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("label",{htmlFor:"sort-options",className:"font-medium mb-2 block",children:"Sort by:"}),a.jsxs("select",{id:"sort-options",value:d,onChange:k,className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600",children:[a.jsx("option",{value:"date-desc",children:"Date (Newest First)"}),a.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.length>0?m.map(e=>a.jsx(C,{title:e.data.title,description:e.data.description,image:e.data.image||"/images/project-placeholder.jpg",tags:e.data.tags||e.data.technologies||[],demoUrl:e.data.demoUrl||"#",codeUrl:e.data.codeUrl||"#",featured:e.data.featured},e.slug)):a.jsxs("div",{className:"col-span-full text-center py-10",children:[a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"No projects match your filter criteria."}),a.jsx("button",{onClick:j,className:"mt-4 text-primary hover:underline",children:"Clear all filters"})]})})]})};export{F as default};
