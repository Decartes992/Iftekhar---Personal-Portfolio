import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.BVOCwoKb.js";const p=()=>{const[t,o]=l.useState({name:"",email:"",subject:"",message:""}),[e,d]=l.useState({}),[m,c]=l.useState(!1),[u,i]=l.useState(null),n=s=>{const{name:r,value:g}=s.target;o({...t,[r]:g}),e[r]&&d({...e,[r]:null})},b=()=>{let s={};return t.name||(s.name="Name is required."),t.email?/\S+@\S+\.\S+/.test(t.email)||(s.email="Email is invalid."):s.email="Email is required.",t.subject||(s.subject="Subject is required."),t.message||(s.message="Message is required."),d(s),Object.keys(s).length===0},x=async s=>{if(s.preventDefault(),i(null),b()){c(!0);try{(await fetch("/api/contact",{method:"POST",body:new FormData(s.target)})).ok?(i("success"),o({name:"",email:"",subject:"",message:""})):i("error")}catch(r){console.error("Error submitting form:",r),i("error")}finally{c(!1)}}};return a.jsxs("form",{onSubmit:x,className:"max-w-lg mx-auto p-8 bg-white shadow-lg rounded-lg transition-shadow duration-300 hover:shadow-xl","aria-label":"Contact Form",children:[u==="success"&&a.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-800 rounded animate-fade-in",children:"Message sent successfully!"}),u==="error"&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-800 rounded animate-shake",children:"Failed to send message. Please try again later."}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-bold mb-2 transition-colors duration-200 hover:text-gray-900",children:"Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,"aria-required":"true","aria-invalid":!!e.name,"aria-describedby":e.name?"name-error":void 0,className:`shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline transition-shadow duration-200 focus:ring-2 focus:ring-blue-500 ${e.name?"border-red-500":""}`}),e.name&&a.jsx("p",{id:"name-error",className:"text-red-700 text-xs italic animate-fade-in",children:e.name}),e.name&&a.jsx("p",{className:"text-red-700 text-xs italic",children:e.name})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,"aria-required":"true","aria-invalid":!!e.email,"aria-describedby":e.email?"email-error":void 0,className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${e.email?"border-red-500":""}`}),e.email&&a.jsx("p",{id:"email-error",className:"text-red-700 text-xs italic",children:e.email}),e.email&&a.jsx("p",{className:"text-red-700 text-xs italic",children:e.email})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"subject",className:"block text-gray-700 text-sm font-bold mb-2",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:n,"aria-required":"true","aria-invalid":!!e.subject,"aria-describedby":e.subject?"subject-error":void 0,className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${e.subject?"border-red-500":""}`}),e.subject&&a.jsx("p",{id:"subject-error",className:"text-red-700 text-xs italic",children:e.subject}),e.subject&&a.jsx("p",{className:"text-red-700 text-xs italic",children:e.subject})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"message",className:"block text-gray-700 text-sm font-bold mb-2",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,rows:"6","aria-required":"true","aria-invalid":!!e.message,"aria-describedby":e.message?"message-error":void 0,className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${e.message?"border-red-500":""}`}),e.message&&a.jsx("p",{id:"message-error",className:"text-red-700 text-xs italic",children:e.message}),e.message&&a.jsx("p",{className:"text-red-700 text-xs italic",children:e.message})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50",disabled:m,children:m?"Sending...":"Send Message"})})]})};export{p as default};
