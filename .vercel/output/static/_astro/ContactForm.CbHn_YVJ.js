import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BVOCwoKb.js";const j=()=>{const[s,u]=c.useState({name:"",email:"",subject:"",message:""}),[r,i]=c.useState({isSubmitting:!1,isSubmitted:!1,isError:!1,errorMessage:""}),[l,x]=c.useState(null),n=t=>{const{name:a,value:d}=t.target;u(b=>({...b,[a]:d}))},o=t=>{x(t)},m=()=>{x(null)},g=async t=>{if(t.preventDefault(),!s.name||!s.email||!s.message){i({isSubmitting:!1,isSubmitted:!1,isError:!0,errorMessage:"Please fill in all required fields"});const a=t.target;a.classList.add("animate-shake"),setTimeout(()=>a.classList.remove("animate-shake"),500);return}try{if(i(d=>({...d,isSubmitting:!0})),!(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed to send message");u({name:"",email:"",subject:"",message:""}),i({isSubmitting:!1,isSubmitted:!0,isError:!1,errorMessage:""})}catch(a){i({isSubmitting:!1,isSubmitted:!1,isError:!0,errorMessage:a.message||"Something went wrong. Please try again later."})}};return r.isSubmitted?e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-8 text-center animate-fade-in",children:[e.jsx("div",{className:"text-green-600 dark:text-green-400 mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-green-800 dark:text-green-300 mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-green-700 dark:text-green-400 mb-6",children:"Thank you for reaching out. I'll get back to you as soon as possible."}),e.jsx("button",{onClick:()=>i(t=>({...t,isSubmitted:!1})),className:"btn btn-primary",children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:g,className:"space-y-6 transition-all duration-300",children:[r.isError&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6 animate-fade-in",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r.errorMessage})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"name",className:`absolute left-4 transition-all duration-300 ${l==="name"||s.name?"-top-2.5 text-primary text-xs bg-white dark:bg-bg-dark px-1":"top-3 text-gray-500"}`,children:"Name*"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:n,onFocus:()=>o("name"),onBlur:m,className:"form-input pt-4",required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"email",className:`absolute left-4 transition-all duration-300 ${l==="email"||s.email?"-top-2.5 text-primary text-xs bg-white dark:bg-bg-dark px-1":"top-3 text-gray-500"}`,children:"Email*"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:n,onFocus:()=>o("email"),onBlur:m,className:"form-input pt-4",required:!0})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"subject",className:`absolute left-4 transition-all duration-300 ${l==="subject"||s.subject?"-top-2.5 text-primary text-xs bg-white dark:bg-bg-dark px-1":"top-3 text-gray-500"}`,children:"Subject"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:s.subject,onChange:n,onFocus:()=>o("subject"),onBlur:m,className:"form-input pt-4"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"message",className:`absolute left-4 transition-all duration-300 ${l==="message"||s.message?"-top-2.5 text-primary text-xs bg-white dark:bg-bg-dark px-1":"top-3 text-gray-500"}`,children:"Message*"}),e.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:n,onFocus:()=>o("message"),onBlur:m,rows:"5",className:"form-input pt-4 resize-none",required:!0})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:r.isSubmitting,className:`btn btn-primary ${r.isSubmitting?"opacity-70 cursor-not-allowed":""}`,children:r.isSubmitting?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Message"})})]})};export{j as default};
