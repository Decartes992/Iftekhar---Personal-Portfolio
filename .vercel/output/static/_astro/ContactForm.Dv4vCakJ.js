import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as u}from"./index.BVOCwoKb.js";const h=()=>{const[r,g]=u.useState({name:"",email:"",subject:"",message:""}),[s,o]=u.useState({isSubmitting:!1,isSubmitted:!1,isError:!1,errorMessage:""}),[n,c]=u.useState(null),l=t=>{const{name:a,value:i}=t.target;g(f=>({...f,[a]:i}))},d=t=>{c(t)},m=()=>{c(null)},x=async t=>{if(t.preventDefault(),!r.name||!r.email||!r.message){o({isSubmitting:!1,isSubmitted:!1,isError:!0,errorMessage:"Please fill in all required fields."});const a=t.target;a.classList.add("animate-shake"),setTimeout(()=>a.classList.remove("animate-shake"),600);return}try{o(i=>({...i,isSubmitting:!0,isError:!1,errorMessage:""}));const a=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const i=await a.json().catch(()=>({message:"Failed to send message. Please try again."}));throw new Error(i.message||"Failed to send message. Please try again.")}g({name:"",email:"",subject:"",message:""}),c(null),o({isSubmitting:!1,isSubmitted:!0,isError:!1,errorMessage:""})}catch(a){o({isSubmitting:!1,isSubmitted:!1,isError:!0,errorMessage:a.message||"Something went wrong. Please try again later."})}};return s.isSubmitted?e.jsxs("div",{className:"bg-success-50 dark:bg-success-900/30 border border-success-300 dark:border-success-700 rounded-xl p-8 text-center animate-fade-in-up shadow-lg",children:[e.jsx("div",{className:"text-success-600 dark:text-success-400 mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-success-800 dark:text-success-200 mb-2",children:"Message Sent Successfully!"}),e.jsx("p",{className:"text-success-700 dark:text-success-300 mb-6",children:"Thank you for reaching out. I'll get back to you as soon as possible."}),e.jsx("button",{onClick:()=>o({isSubmitting:!1,isSubmitted:!1,isError:!1,errorMessage:""}),className:"btn btn-primary hover:btn-primary-dark focus:ring-primary-500/50 transition-all duration-300 ease-in-out transform hover:scale-105",children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:x,className:"space-y-8 p-6 md:p-8 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 transition-all duration-300",noValidate:!0,children:[s.isError&&e.jsx("div",{className:"bg-danger-50 dark:bg-danger-900/30 border border-danger-300 dark:border-danger-700 rounded-lg p-4 mb-6 animate-fade-in-down shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-danger-500 dark:text-danger-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-danger-700 dark:text-danger-200",children:s.errorMessage})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-8",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:l,onFocus:()=>d("name"),onBlur:m,className:`form-input peer ${s.isError&&!r.name?"border-danger-500 dark:border-danger-400 focus:border-danger-500 focus:ring-danger-500/50":"focus:border-primary-500 dark:focus:border-primary-400 focus:ring-primary-500/30"}`,required:!0,"aria-describedby":s.isError&&!r.name?"name-error":void 0}),e.jsx("label",{htmlFor:"name",className:`form-label peer-focus:form-label-focused ${n==="name"||r.name?"form-label-focused":""} ${s.isError&&!r.name?"text-danger-500 dark:text-danger-400":"text-gray-500 dark:text-gray-400 peer-focus:text-primary-600 dark:peer-focus:text-primary-300"}`,children:"Full Name*"}),s.isError&&!r.name&&e.jsx("p",{id:"name-error",className:"mt-1 text-xs text-danger-600 dark:text-danger-400",children:"Name is required."})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:l,onFocus:()=>d("email"),onBlur:m,className:`form-input peer ${s.isError&&!r.email?"border-danger-500 dark:border-danger-400 focus:border-danger-500 focus:ring-danger-500/50":"focus:border-primary-500 dark:focus:border-primary-400 focus:ring-primary-500/30"}`,required:!0,"aria-describedby":s.isError&&!r.email?"email-error":void 0}),e.jsx("label",{htmlFor:"email",className:`form-label peer-focus:form-label-focused ${n==="email"||r.email?"form-label-focused":""} ${s.isError&&!r.email?"text-danger-500 dark:text-danger-400":"text-gray-500 dark:text-gray-400 peer-focus:text-primary-600 dark:peer-focus:text-primary-300"}`,children:"Email Address*"}),s.isError&&!r.email&&e.jsx("p",{id:"email-error",className:"mt-1 text-xs text-danger-600 dark:text-danger-400",children:"A valid email is required."})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:l,onFocus:()=>d("subject"),onBlur:m,className:"form-input peer focus:border-primary-500 dark:focus:border-primary-400 focus:ring-primary-500/30"}),e.jsx("label",{htmlFor:"subject",className:`form-label peer-focus:form-label-focused ${n==="subject"||r.subject?"form-label-focused":""} text-gray-500 dark:text-gray-400 peer-focus:text-primary-600 dark:peer-focus:text-primary-300`,children:"Subject (Optional)"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:l,onFocus:()=>d("message"),onBlur:m,rows:"5",className:`form-input peer resize-none ${s.isError&&!r.message?"border-danger-500 dark:border-danger-400 focus:border-danger-500 focus:ring-danger-500/50":"focus:border-primary-500 dark:focus:border-primary-400 focus:ring-primary-500/30"}`,required:!0,"aria-describedby":s.isError&&!r.message?"message-error":void 0}),e.jsx("label",{htmlFor:"message",className:`form-label peer-focus:form-label-focused ${n==="message"||r.message?"form-label-focused":""} ${s.isError&&!r.message?"text-danger-500 dark:text-danger-400":"text-gray-500 dark:text-gray-400 peer-focus:text-primary-600 dark:peer-focus:text-primary-300"}`,children:"Your Message*"}),s.isError&&!r.message&&e.jsx("p",{id:"message-error",className:"mt-1 text-xs text-danger-600 dark:text-danger-400",children:"Message cannot be empty."})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs("button",{type:"submit",disabled:s.isSubmitting,className:"btn btn-lg btn-primary w-full sm:w-auto disabled:opacity-70 disabled:cursor-not-allowed group relative overflow-hidden transition-all duration-300 ease-in-out transform hover:scale-105 focus:ring-primary-500/50 shadow-md hover:shadow-lg",children:[e.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-primary-400 to-secondary-500 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),s.isSubmitting?e.jsxs("span",{className:"relative flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):e.jsx("span",{className:"relative",children:"Send Message"})]})})]})};export{h as default};
